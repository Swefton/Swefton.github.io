<!DOCTYPE html>
<html>
<head>
  <title>UWM Map Heatmap</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }
    #map { height: 100vh; }
  </style>
  <meta
  charset="UTF-8">
  
    
  <meta
   
  name="viewport"
   
  content="width=device-width, initial-scale=1.0">
  
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>

<script>
  var map = L.map('map').setView([43.07177086067764, -89.40364892237208], 18); // Centered at UWM, Zoom level adjusted

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19}).addTo(map);

  var heat = L.heatLayer(Object.values(heatData), { radius: 100, blur: 0 }).addTo(map); // Adjusted radius and blur

  for (var key in heatData) {
    if (heatData.hasOwnProperty(key)) {

      var coords = heatData[key];
      var lat = coords[0];
      var lng = coords[1];
      var intensity = coords[2];
      var popupContent = `
        <div class="popup">
          <h3>${key}</h3>
          <p>Latitude: ${lat}</p>
          <p>Longitude: ${lng}</p>
          <p>Intensity: ${intensity}</p>
          <a href="https://swefton.github.io/announcements.html">Announcements</a>
        </div>`;
      var marker = L.marker([lat, lng]).addTo(map);
      marker.bindPopup(popupContent);
    }
  }

</script>

</body>
</html>
